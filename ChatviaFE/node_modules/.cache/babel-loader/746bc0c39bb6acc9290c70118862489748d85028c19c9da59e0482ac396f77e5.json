{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\ChatBF\\\\ChatviaFE\\\\src\\\\pages\\\\dashboard\\\\Tabs\\\\Chats.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Input, InputGroup } from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\nimport { connect, useDispatch, useSelector } from \"react-redux\";\n\n// simplebar\nimport SimpleBar from \"simplebar-react\";\n\n// actions\nimport { setconversationNameInOpenChat, activeUser } from \"../../../redux/actions\";\n\n// components\nimport OnlineUsers from \"./OnlineUsers\";\nimport { selectedMessage } from \"../../../redux/control/actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Chats = props => {\n  _s();\n  const [searchChat, setSearchChat] = useState(\"\");\n  const [recentChatList, setRecentChatList] = useState(props.recentChatList);\n  const dispatch = useDispatch();\n  const active_user = useSelector(state => state.Chat.active_user);\n  useEffect(() => {\n    setRecentChatList(props.recentChatList);\n  }, [props.recentChatList]);\n  useEffect(() => {\n    const li = document.getElementById(\"conversation\" + active_user);\n    if (li) {\n      li.classList.add(\"active\");\n    }\n  }, [active_user]);\n  const handleChange = e => {\n    const value = e.target.value;\n    setSearchChat(value);\n    const filteredArray = props.recentChatList.filter(chat => chat.name.toLowerCase().includes(value.toLowerCase()));\n    setRecentChatList(value === \"\" ? props.recentChatList : filteredArray);\n  };\n  const openUserChat = (e, chat) => {\n    e.preventDefault();\n\n    // Find index of current chat in array\n    const index = props.recentChatList.indexOf(chat);\n\n    // Set activeUser\n    dispatch(activeUser(index));\n    const chatList = document.getElementById(\"chat-list\");\n    const clickedItem = e.target;\n\n    // Remove active class from other conversations\n    const liItems = chatList.getElementsByTagName(\"li\");\n    Array.from(liItems).forEach(li => li.classList.remove(\"active\"));\n\n    // Activate clicked conversation user\n    const currentli = Array.from(liItems).find(li => li.contains(clickedItem));\n    if (currentli) {\n      currentli.classList.add(\"active\");\n    }\n    const userChat = document.getElementsByClassName(\"user-chat\");\n    if (userChat.length > 0) {\n      userChat[0].classList.add(\"user-chat-show\");\n    }\n\n    // Remove unread badge if user clicks\n    const unread = document.getElementById(\"unRead\" + chat.id);\n    if (unread) {\n      unread.style.display = \"none\";\n    }\n  };\n\n  // Code new\n\n  // USE STATE\n\n  const [activeIndex, setActiveIndex] = useState(null);\n  const messageState = useSelector(state => state.Message.messages);\n  const profileState = useSelector(state => state.Profile.profile);\n  const selectedState = useSelector(state => state.Control.otherId);\n  function countSentMessages(messages) {\n    return messages.filter(message => message.status === \"sent\" && message.senderId !== profileState.userId).length;\n  }\n  const selectedChat = (e, chat) => {\n    e.preventDefault();\n    dispatch(selectedMessage(chat.conversation.otherId.userId));\n  };\n  function formatTimeDifference(dateString) {\n    const inputDate = new Date(dateString);\n    const currentDate = new Date();\n    const diffMs = currentDate - inputDate; // chênh lệch tính bằng milliseconds\n    // Chuyển đổi sang các đơn vị thời gian\n    const diffMinutes = Math.floor(diffMs / (1000 * 60));\n    const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\n    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\n    // Kiểm tra điều kiện và trả về chuỗi tương ứng\n    if (diffMinutes < 60) {\n      return `${diffMinutes} minute ago`;\n    } else if (diffHours < 24) {\n      return `${diffHours} hour ago`;\n    } else if (diffDays < 5) {\n      return `${diffDays} day ago`;\n    } else {\n      // Nếu trên 5 ngày, trả về ngày tháng năm ban đầu\n      return inputDate.toLocaleDateString(\"vi-VN\", {\n        day: \"numeric\",\n        month: \"numeric\",\n        year: \"numeric\"\n      });\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-4 pt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"mb-4\",\n          children: \"Chats\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-box chat-search-box\",\n          children: /*#__PURE__*/_jsxDEV(InputGroup, {\n            className: \"mb-3 rounded-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"input-group-text text-muted bg-light pe-1 ps-3\",\n              id: \"basic-addon1\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"ri-search-line search-icon font-size-18\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              type: \"text\",\n              value: searchChat,\n              onChange: handleChange,\n              className: \"form-control bg-light\",\n              placeholder: \"Search messages or users\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(OnlineUsers, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-3 px-3 font-size-16\",\n          children: \"Recent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SimpleBar, {\n          className: \"chat-message-list\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-unstyled chat-list chat-user-list px-2\",\n            id: \"chat-list\",\n            children: messageState && messageState.map((chat, key) => {\n              var _chat$conversation, _chat$conversation$ot, _chat$conversation3, _chat$conversation3$o, _chat$conversation4, _chat$conversation4$o, _chat$messages, _chat$messages2, _chat$messages3, _chat$messages4, _chat$messages5, _chat$messages6, _chat$messages7, _chat$messages8;\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                id: \"conversation\" + key,\n                className: (chat === null || chat === void 0 ? void 0 : (_chat$conversation = chat.conversation) === null || _chat$conversation === void 0 ? void 0 : (_chat$conversation$ot = _chat$conversation.otherId) === null || _chat$conversation$ot === void 0 ? void 0 : _chat$conversation$ot.userId) === activeIndex ? \"active\" : \"\",\n                onClick: () => {\n                  var _chat$conversation2, _chat$conversation2$o;\n                  return setActiveIndex(chat === null || chat === void 0 ? void 0 : (_chat$conversation2 = chat.conversation) === null || _chat$conversation2 === void 0 ? void 0 : (_chat$conversation2$o = _chat$conversation2.otherId) === null || _chat$conversation2$o === void 0 ? void 0 : _chat$conversation2$o.userId);\n                },\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"#\",\n                  onClick: e => selectedChat(e, chat),\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex\",\n                    children: [chat.profilePicture === \"Null\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"chat-user-img \" + chat.status + \" align-self-center me-1 ms-0\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"avatar-xs\",\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"avatar-title rounded-circle bg-primary-subtle text-primary\",\n                          children: chat.name.charAt(0)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 184,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 183,\n                        columnNumber: 29\n                      }, this), chat.status && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"user-status\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 189,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 176,\n                      columnNumber: 27\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"chat-user-img \" + chat.status + \" align-self-center me-1 ms-0\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: chat === null || chat === void 0 ? void 0 : (_chat$conversation3 = chat.conversation) === null || _chat$conversation3 === void 0 ? void 0 : (_chat$conversation3$o = _chat$conversation3.otherId) === null || _chat$conversation3$o === void 0 ? void 0 : _chat$conversation3$o.avatarUrl,\n                        className: \"rounded-circle avatar-xs\",\n                        alt: \"chatvia\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 200,\n                        columnNumber: 29\n                      }, this), chat.status && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"user-status\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 206,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 193,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex-grow-1 overflow-hidden\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                        className: \"text-truncate font-size-15 mb-1 ms-3\",\n                        children: (_chat$conversation4 = chat.conversation) === null || _chat$conversation4 === void 0 ? void 0 : (_chat$conversation4$o = _chat$conversation4.otherId) === null || _chat$conversation4$o === void 0 ? void 0 : _chat$conversation4$o.fullName\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 212,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"chat-user-message font-size-14 text-truncate mb-0 ms-3\",\n                        style: {\n                          color: \"black\"\n                        },\n                        children: [(chat === null || chat === void 0 ? void 0 : (_chat$messages = chat.messages[chat.messages.length - 1]) === null || _chat$messages === void 0 ? void 0 : _chat$messages.senderId) === profileState.userId ? (chat === null || chat === void 0 ? void 0 : (_chat$messages2 = chat.messages[chat.messages.length - 1]) === null || _chat$messages2 === void 0 ? void 0 : _chat$messages2.messageType) === \"file\" ? \"You have sent a file\" : (chat === null || chat === void 0 ? void 0 : (_chat$messages3 = chat.messages[chat.messages.length - 1]) === null || _chat$messages3 === void 0 ? void 0 : _chat$messages3.messageType) === \"image\" ? \"You have sent an image\" : \"You: \" + (chat === null || chat === void 0 ? void 0 : (_chat$messages4 = chat.messages[chat.messages.length - 1]) === null || _chat$messages4 === void 0 ? void 0 : _chat$messages4.content) : chat === null || chat === void 0 ? void 0 : (_chat$messages5 = chat.messages[chat.messages.length - 1]) === null || _chat$messages5 === void 0 ? void 0 : _chat$messages5.content, chat.isTyping ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [\"typing\", /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"animate-typing\",\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"dot ms-1\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 234,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"dot ms-1\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 235,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"dot ms-1\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 236,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 233,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [chat.messages && chat.messages.length > 0 && chat.messages[chat.messages.length - 1].isImageMessage === true ? /*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"ri-image-fill align-middle me-1\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 245,\n                            columnNumber: 35\n                          }, this) : null, chat.messages && chat.messages.length > 0 && chat.messages[chat.messages.length - 1].isFileMessage === true ? /*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"ri-file-text-fill align-middle me-1\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 251,\n                            columnNumber: 35\n                          }, this) : null, chat.messages && chat.messages.length > 0 ? chat.messages[chat.messages.length - 1].message : null]\n                        }, void 0, true)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 215,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 211,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-size-11\",\n                      style: {\n                        color: \"black\"\n                      },\n                      children: (chat === null || chat === void 0 ? void 0 : (_chat$messages6 = chat.messages[chat.messages.length - 1]) === null || _chat$messages6 === void 0 ? void 0 : _chat$messages6.sentAt) && formatTimeDifference(chat === null || chat === void 0 ? void 0 : (_chat$messages7 = chat.messages[chat.messages.length - 1]) === null || _chat$messages7 === void 0 ? void 0 : _chat$messages7.sentAt)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 261,\n                      columnNumber: 25\n                    }, this), chat.unRead === 0 ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"unread-message\",\n                      id: \"unRead\" + chat.id,\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"badge badge-soft-danger rounded-pill\",\n                        children: (chat === null || chat === void 0 ? void 0 : (_chat$messages8 = chat.messages) === null || _chat$messages8 === void 0 ? void 0 : _chat$messages8.length) > 0 && countSentMessages(chat.messages) > 0 && countSentMessages(chat.messages)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 272,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 268,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 21\n                }, this)\n              }, key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n};\n_s(Chats, \"ukJNOqrKNAqjG4dZuJvDWTRCRYQ=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n_c = Chats;\nexport default connect(null, {\n  setconversationNameInOpenChat,\n  activeUser\n})(Chats);\nvar _c;\n$RefreshReg$(_c, \"Chats\");","map":{"version":3,"names":["React","useState","useEffect","Input","InputGroup","Link","connect","useDispatch","useSelector","SimpleBar","setconversationNameInOpenChat","activeUser","OnlineUsers","selectedMessage","jsxDEV","_jsxDEV","Fragment","_Fragment","Chats","props","_s","searchChat","setSearchChat","recentChatList","setRecentChatList","dispatch","active_user","state","Chat","li","document","getElementById","classList","add","handleChange","e","value","target","filteredArray","filter","chat","name","toLowerCase","includes","openUserChat","preventDefault","index","indexOf","chatList","clickedItem","liItems","getElementsByTagName","Array","from","forEach","remove","currentli","find","contains","userChat","getElementsByClassName","length","unread","id","style","display","activeIndex","setActiveIndex","messageState","Message","messages","profileState","Profile","profile","selectedState","Control","otherId","countSentMessages","message","status","senderId","userId","selectedChat","conversation","formatTimeDifference","dateString","inputDate","Date","currentDate","diffMs","diffMinutes","Math","floor","diffHours","diffDays","toLocaleDateString","day","month","year","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","placeholder","map","key","_chat$conversation","_chat$conversation$ot","_chat$conversation3","_chat$conversation3$o","_chat$conversation4","_chat$conversation4$o","_chat$messages","_chat$messages2","_chat$messages3","_chat$messages4","_chat$messages5","_chat$messages6","_chat$messages7","_chat$messages8","onClick","_chat$conversation2","_chat$conversation2$o","to","profilePicture","charAt","src","avatarUrl","alt","fullName","color","messageType","content","isTyping","isImageMessage","isFileMessage","sentAt","unRead","_c","$RefreshReg$"],"sources":["C:/Users/Administrator/Desktop/ChatBF/ChatviaFE/src/pages/dashboard/Tabs/Chats.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Input, InputGroup } from \"reactstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect, useDispatch, useSelector } from \"react-redux\";\r\n\r\n// simplebar\r\nimport SimpleBar from \"simplebar-react\";\r\n\r\n// actions\r\nimport {\r\n  setconversationNameInOpenChat,\r\n  activeUser,\r\n} from \"../../../redux/actions\";\r\n\r\n// components\r\nimport OnlineUsers from \"./OnlineUsers\";\r\nimport { selectedMessage } from \"../../../redux/control/actions\";\r\n\r\nconst Chats = (props) => {\r\n  const [searchChat, setSearchChat] = useState(\"\");\r\n  const [recentChatList, setRecentChatList] = useState(props.recentChatList);\r\n  const dispatch = useDispatch();\r\n  const active_user = useSelector((state) => state.Chat.active_user);\r\n\r\n  useEffect(() => {\r\n    setRecentChatList(props.recentChatList);\r\n  }, [props.recentChatList]);\r\n\r\n  useEffect(() => {\r\n    const li = document.getElementById(\"conversation\" + active_user);\r\n    if (li) {\r\n      li.classList.add(\"active\");\r\n    }\r\n  }, [active_user]);\r\n\r\n  const handleChange = (e) => {\r\n    const value = e.target.value;\r\n    setSearchChat(value);\r\n\r\n    const filteredArray = props.recentChatList.filter((chat) =>\r\n      chat.name.toLowerCase().includes(value.toLowerCase())\r\n    );\r\n\r\n    setRecentChatList(value === \"\" ? props.recentChatList : filteredArray);\r\n  };\r\n\r\n  const openUserChat = (e, chat) => {\r\n    e.preventDefault();\r\n\r\n    // Find index of current chat in array\r\n    const index = props.recentChatList.indexOf(chat);\r\n\r\n    // Set activeUser\r\n    dispatch(activeUser(index));\r\n\r\n    const chatList = document.getElementById(\"chat-list\");\r\n    const clickedItem = e.target;\r\n\r\n    // Remove active class from other conversations\r\n    const liItems = chatList.getElementsByTagName(\"li\");\r\n    Array.from(liItems).forEach((li) => li.classList.remove(\"active\"));\r\n\r\n    // Activate clicked conversation user\r\n    const currentli = Array.from(liItems).find((li) =>\r\n      li.contains(clickedItem)\r\n    );\r\n    if (currentli) {\r\n      currentli.classList.add(\"active\");\r\n    }\r\n\r\n    const userChat = document.getElementsByClassName(\"user-chat\");\r\n    if (userChat.length > 0) {\r\n      userChat[0].classList.add(\"user-chat-show\");\r\n    }\r\n\r\n    // Remove unread badge if user clicks\r\n    const unread = document.getElementById(\"unRead\" + chat.id);\r\n    if (unread) {\r\n      unread.style.display = \"none\";\r\n    }\r\n  };\r\n\r\n  // Code new\r\n\r\n  // USE STATE\r\n\r\n  const [activeIndex, setActiveIndex] = useState(null);\r\n\r\n  \r\n\r\n  const messageState = useSelector((state) => state.Message.messages);\r\n  const profileState = useSelector((state) => state.Profile.profile);\r\n  const selectedState = useSelector((state)=> state.Control.otherId);\r\n\r\n\r\n  function countSentMessages(messages) {\r\n    return messages.filter((message) => message.status === \"sent\" && message.senderId !== profileState.userId).length;\r\n  }\r\n\r\n  const selectedChat = (e, chat) => {\r\n    e.preventDefault();\r\n    dispatch(selectedMessage(chat.conversation.otherId.userId))\r\n  };\r\n\r\n  function formatTimeDifference(dateString) {\r\n    const inputDate = new Date(dateString);\r\n    const currentDate = new Date();\r\n    const diffMs = currentDate - inputDate; // chênh lệch tính bằng milliseconds\r\n    // Chuyển đổi sang các đơn vị thời gian\r\n    const diffMinutes = Math.floor(diffMs / (1000 * 60));\r\n    const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\r\n    const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\r\n    // Kiểm tra điều kiện và trả về chuỗi tương ứng\r\n    if (diffMinutes < 60) {\r\n      return `${diffMinutes} minute ago`;\r\n    } else if (diffHours < 24) {\r\n      return `${diffHours} hour ago`;\r\n    } else if (diffDays < 5) {\r\n      return `${diffDays} day ago`;\r\n    } else {\r\n      // Nếu trên 5 ngày, trả về ngày tháng năm ban đầu\r\n      return inputDate.toLocaleDateString(\"vi-VN\", {\r\n        day: \"numeric\",\r\n        month: \"numeric\",\r\n        year: \"numeric\",\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div>\r\n        <div className=\"px-4 pt-4\">\r\n          <h4 className=\"mb-4\">Chats</h4>\r\n          <div className=\"search-box chat-search-box\">\r\n            <InputGroup className=\"mb-3 rounded-3\">\r\n              <span\r\n                className=\"input-group-text text-muted bg-light pe-1 ps-3\"\r\n                id=\"basic-addon1\"\r\n              >\r\n                <i className=\"ri-search-line search-icon font-size-18\"></i>\r\n              </span>\r\n              <Input\r\n                type=\"text\"\r\n                value={searchChat}\r\n                onChange={handleChange}\r\n                className=\"form-control bg-light\"\r\n                placeholder=\"Search messages or users\"\r\n              />\r\n            </InputGroup>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Online users */}\r\n        <OnlineUsers />\r\n        {/* Start chat-message-list  */}\r\n        <div>\r\n          <h5 className=\"mb-3 px-3 font-size-16\">Recent</h5>\r\n          <SimpleBar className=\"chat-message-list\">\r\n            <ul\r\n              className=\"list-unstyled chat-list chat-user-list px-2\"\r\n              id=\"chat-list\"\r\n            >\r\n              {messageState &&\r\n                messageState.map((chat, key) => (\r\n                  <li\r\n                    key={key}\r\n                    id={\"conversation\" + key}\r\n\r\n                    className={chat?.conversation?.otherId?.userId  === activeIndex? \"active\" : \"\"}\r\n                    onClick={() => setActiveIndex(chat?.conversation?.otherId?.userId)}\r\n                  >\r\n                    <Link to=\"#\" onClick={(e) => selectedChat(e, chat)}>\r\n                      <div className=\"d-flex\">\r\n                        {chat.profilePicture === \"Null\" ? (\r\n                          <div\r\n                            className={\r\n                              \"chat-user-img \" +\r\n                              chat.status +\r\n                              \" align-self-center me-1 ms-0\"\r\n                            }\r\n                          >\r\n                            <div className=\"avatar-xs\">\r\n                              <span className=\"avatar-title rounded-circle bg-primary-subtle text-primary\">\r\n                                {chat.name.charAt(0)}\r\n                              </span>\r\n                            </div>\r\n                            {chat.status && (\r\n                              <span className=\"user-status\"></span>\r\n                            )}\r\n                          </div>\r\n                        ) : (\r\n                          <div\r\n                            className={\r\n                              \"chat-user-img \" +\r\n                              chat.status +\r\n                              \" align-self-center me-1 ms-0\"\r\n                            }\r\n                          >\r\n                            <img\r\n                              src={chat?.conversation?.otherId?.avatarUrl}\r\n                              className=\"rounded-circle avatar-xs\"\r\n                              alt=\"chatvia\"\r\n                            />\r\n                            {chat.status && (\r\n                              <span className=\"user-status\"></span>\r\n                            )}\r\n                          </div>\r\n                        )}\r\n\r\n                        <div className=\"flex-grow-1 overflow-hidden\">\r\n                          <h5 className=\"text-truncate font-size-15 mb-1 ms-3\">\r\n                            {chat.conversation?.otherId?.fullName}\r\n                          </h5>\r\n                          <p className=\"chat-user-message font-size-14 text-truncate mb-0 ms-3\" style={{color: \"black\"}}>\r\n                            {chat?.messages[chat.messages.length - 1]\r\n                              ?.senderId === profileState.userId\r\n                              ? chat?.messages[chat.messages.length - 1]\r\n                                  ?.messageType === \"file\"\r\n                                ? \"You have sent a file\"\r\n                                : chat?.messages[chat.messages.length - 1]\r\n                                    ?.messageType === \"image\"\r\n                                ? \"You have sent an image\"\r\n                                : \"You: \" +\r\n                                  chat?.messages[chat.messages.length - 1]\r\n                                    ?.content\r\n                              : chat?.messages[chat.messages.length - 1]\r\n                                  ?.content}\r\n\r\n                            {chat.isTyping ? (\r\n                              <>\r\n                                typing\r\n                                <span className=\"animate-typing\">\r\n                                  <span className=\"dot ms-1\"></span>\r\n                                  <span className=\"dot ms-1\"></span>\r\n                                  <span className=\"dot ms-1\"></span>\r\n                                </span>\r\n                              </>\r\n                            ) : (\r\n                              <>\r\n                                {chat.messages &&\r\n                                chat.messages.length > 0 &&\r\n                                chat.messages[chat.messages.length - 1]\r\n                                  .isImageMessage === true ? (\r\n                                  <i className=\"ri-image-fill align-middle me-1\"></i>\r\n                                ) : null}\r\n                                {chat.messages &&\r\n                                chat.messages.length > 0 &&\r\n                                chat.messages[chat.messages.length - 1]\r\n                                  .isFileMessage === true ? (\r\n                                  <i className=\"ri-file-text-fill align-middle me-1\"></i>\r\n                                ) : null}\r\n                                {chat.messages && chat.messages.length > 0\r\n                                  ? chat.messages[chat.messages.length - 1]\r\n                                      .message\r\n                                  : null}\r\n                              </>\r\n                            )}\r\n                          </p>\r\n                        </div>\r\n                        <div className=\"font-size-11\" style={{color: \"black\"}}>\r\n                          {chat?.messages[chat.messages.length - 1]?.sentAt &&\r\n                            formatTimeDifference(\r\n                              chat?.messages[chat.messages.length - 1]?.sentAt\r\n                            )}\r\n                        </div>\r\n                        {chat.unRead === 0 ? null : (\r\n                          <div\r\n                            className=\"unread-message\"\r\n                            id={\"unRead\" + chat.id}\r\n                          >\r\n                            <span className=\"badge badge-soft-danger rounded-pill\">\r\n                              {chat?.messages?.length > 0 &&\r\n                                countSentMessages(chat.messages) > 0 && countSentMessages(chat.messages)}\r\n                            </span>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </Link>\r\n                  </li>\r\n                ))}\r\n            </ul>\r\n          </SimpleBar>\r\n        </div>\r\n        {/* End chat-message-list */}\r\n\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default connect(null, { setconversationNameInOpenChat, activeUser })(\r\n  Chats\r\n);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}