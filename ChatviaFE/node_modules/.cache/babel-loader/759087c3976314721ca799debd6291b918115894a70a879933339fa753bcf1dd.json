{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\ChatBF\\\\ChatviaFE\\\\src\\\\pages\\\\dashboard\\\\UserChat\\\\UserHead.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from \"react\";\nimport { Dropdown, DropdownMenu, DropdownItem, DropdownToggle, Button, Input, Row, Col, Modal, ModalBody } from \"reactstrap\";\nimport { Link } from \"react-router-dom\";\nimport { connect, useDispatch, useSelector } from \"react-redux\";\nimport { openUserSidebar, setFullUser } from \"../../../redux/actions\";\n\n//import images\nimport user from \"../../../assets/images/users/avatar-4.jpg\";\nimport { sendValueVideoCall } from \"../../../redux/control/actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserHead = props => {\n  _s();\n  var _messageState$find, _messageState$find$co;\n  const [dropdownOpen, setDropdownOpen] = useState(false);\n  const [dropdownOpen1, setDropdownOpen1] = useState(false);\n  const [Callmodal, setCallModal] = useState(false);\n  const [Videomodal, setVideoModal] = useState(false);\n  const toggle = () => setDropdownOpen(!dropdownOpen);\n  const toggle1 = () => setDropdownOpen1(!dropdownOpen1);\n  const toggleCallModal = () => setCallModal(!Callmodal);\n  const toggleVideoModal = () => setVideoModal(!Videomodal);\n  const timeoutRef = useRef(null);\n  const [isCalling, setIsCalling] = useState(false);\n  const openUserSidebar = e => {\n    e.preventDefault();\n    props.openUserSidebar();\n  };\n  function closeUserChat(e) {\n    e.preventDefault();\n    var userChat = document.getElementsByClassName(\"user-chat\");\n    if (userChat) {\n      userChat[0].classList.remove(\"user-chat-show\");\n    }\n  }\n  function deleteMessage() {}\n\n  // const new code\n  const messageState = useSelector(state => state.Message.messages);\n  const selectedMessage = useSelector(state => state.Control.otherId);\n  const userId = useSelector(state => {\n    var _state$Profile;\n    return (_state$Profile = state.Profile) === null || _state$Profile === void 0 ? void 0 : _state$Profile.profile.userId;\n  });\n  const dispatch = useDispatch();\n  const otherUser = (_messageState$find = messageState.find(message => message.conversation.otherId.userId === selectedMessage)) === null || _messageState$find === void 0 ? void 0 : (_messageState$find$co = _messageState$find.conversation) === null || _messageState$find$co === void 0 ? void 0 : _messageState$find$co.otherId;\n  console.log(otherUser);\n  function generateRandomChannelName() {\n    const characters = \"abcdefghijklmnopqrstuvwxyz\";\n    let result = \"\";\n    for (let i = 0; i < 6; i++) {\n      const randomIndex = Math.floor(Math.random() * characters.length);\n      result += characters[randomIndex];\n    }\n    return result;\n  }\n  async function getToken(channelName) {\n    try {\n      const response = await fetch(`http://localhost:8080/access_token?channelName=${channelName}&role=publisher&expireTime=3600`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      const token = data.token; // Assign the token to a variable\n      console.log(\"Token:\", token); // Log the token to the console\n      return token; // Return the token from the function\n    } catch (error) {\n      console.error(\"Error fetching token:\", error);\n      return null; // Return null in case of error\n    }\n  }\n\n  const handleRoomIdGenerate = () => {\n    const randomId = Math.random().toString(36).substring(2, 9);\n    const timestamp = Date.now().toString().substring(-4);\n    return randomId + timestamp;\n  };\n  const roomId = handleRoomIdGenerate();\n  const startVideoCall = async () => {\n    setIsCalling(true);\n    if (otherUser) {\n      const channel = generateRandomChannelName();\n      const token = (await getToken(channel)) + \"\";\n      const caller = userId + \"\";\n      const receiver = otherUser.userId + \"\";\n      // Gửi yêu cầu POST\n\n      fetch(\"https://localhost:7098/api/Stream/startvideocall\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          roomId: roomId,\n          caller: caller,\n          receiver: receiver\n        })\n      }).then(response => {\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        return response.json();\n      }).then(data => {\n        console.log(\"Success:\", data);\n      }).catch(error => {\n        console.error(\"Error:\", error);\n      });\n      timeoutRef.current = setTimeout(() => {\n        if (window.location.href !== 'http://localhost:3000/video-call') {\n          console.log(window.location.href);\n          window.location.href = \"/\";\n        }\n      }, 30 * 1000);\n    }\n  };\n  const handleCancelCall = async () => {\n    toggleVideoModal();\n    if (isCalling) {\n      const caller = userId + \"\";\n      const receiver = otherUser.userId + \"\";\n      fetch(\"https://localhost:7098/api/Stream/cancelvideocall\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          roomId: roomId,\n          caller: caller,\n          receiver: receiver\n        })\n      }).then(response => {\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        return response.json();\n      }).then(data => {\n        console.log(\"Success:\", data);\n      }).catch(error => {\n        console.error(\"Error:\", error);\n      });\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current); // Hủy setTimeout\n        timeoutRef.current = null; // Đặt về null để tránh gọi lại\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 p-lg-4 border-bottom user-chat-topbar\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 4,\n          xs: 8,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-block d-lg-none me-2 ms-0\",\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"#\",\n                onClick: e => closeUserChat(e),\n                className: \"user-chat-remove text-muted font-size-16 p-2\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"ri-arrow-left-s-line\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this), (otherUser === null || otherUser === void 0 ? void 0 : otherUser.avatarUrl) !== \"\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"me-3 ms-0\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: otherUser === null || otherUser === void 0 ? void 0 : otherUser.avatarUrl,\n                className: \"rounded-circle avatar-xs\",\n                alt: \"chatvia\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-user-img align-self-center me-3\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"avatar-xs\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"avatar-title rounded-circle bg-primary-subtle text-primary\",\n                  children: otherUser === null || otherUser === void 0 ? void 0 : otherUser.userName.charAt(0)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-grow-1 overflow-hidden\",\n              children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"font-size-16 mb-0 text-truncate\",\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: \"#\",\n                  onClick: e => openUserSidebar(e),\n                  className: \"text-reset user-profile-show\",\n                  children: otherUser === null || otherUser === void 0 ? void 0 : otherUser.fullName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 19\n                }, this), (() => {\n                  switch (\"online\") {\n                    case \"online\":\n                      return /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"ri-record-circle-fill font-size-10 text-success d-inline-block ms-2\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 241,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false);\n                    case \"away\":\n                      return /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"ri-record-circle-fill font-size-10 text-warning d-inline-block ms-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 248,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false);\n                    case \"offline\":\n                      return /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"ri-record-circle-fill font-size-10 text-secondary d-inline-block ms-1\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 255,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false);\n                    default:\n                      return;\n                  }\n                })()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 8,\n          xs: 4,\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"list-inline user-chat-nav text-end mb-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-inline-item\",\n              children: /*#__PURE__*/_jsxDEV(Dropdown, {\n                isOpen: dropdownOpen,\n                toggle: toggle,\n                children: [/*#__PURE__*/_jsxDEV(DropdownToggle, {\n                  color: \"none\",\n                  className: \"btn nav-btn \",\n                  type: \"button\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"ri-search-line\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n                  className: \"p-0 dropdown-menu-end dropdown-menu-md\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"search-box p-2\",\n                    children: /*#__PURE__*/_jsxDEV(Input, {\n                      type: \"text\",\n                      className: \"form-control bg-light border-0\",\n                      placeholder: \"Search..\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-inline-item d-none d-lg-inline-block me-2 ms-0\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: toggleCallModal,\n                className: \"btn nav-btn\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"ri-phone-line\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-inline-item d-none d-lg-inline-block me-2 ms-0\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: toggleVideoModal,\n                className: \"btn nav-btn\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"ri-vidicon-line\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-inline-item d-none d-lg-inline-block me-2 ms-0\",\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"button\",\n                color: \"none\",\n                onClick: e => openUserSidebar(e),\n                className: \"nav-btn user-profile-show\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"ri-user-2-line\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"list-inline-item\",\n              children: /*#__PURE__*/_jsxDEV(Dropdown, {\n                isOpen: dropdownOpen1,\n                toggle: toggle1,\n                children: [/*#__PURE__*/_jsxDEV(DropdownToggle, {\n                  className: \"btn nav-btn \",\n                  color: \"none\",\n                  type: \"button\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"ri-more-fill\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 326,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n                  className: \"dropdown-menu-end\",\n                  children: [/*#__PURE__*/_jsxDEV(DropdownItem, {\n                    className: \"d-block d-lg-none user-profile-show\",\n                    onClick: e => openUserSidebar(e),\n                    children: [\"View profile\", \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"ri-user-2-line float-end text-muted\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 334,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 329,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n                    children: [\"Archive\", \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"ri-archive-line float-end text-muted\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 338,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n                    children: [\"Muted\", \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"ri-volume-mute-line float-end text-muted\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 342,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(DropdownItem, {\n                    onClick: e => deleteMessage(e),\n                    children: [\"Delete\", \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"ri-delete-bin-line float-end text-muted\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 346,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      tabIndex: \"-1\",\n      isOpen: Callmodal,\n      toggle: toggleCallModal,\n      centered: true,\n      children: /*#__PURE__*/_jsxDEV(ModalBody, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar-lg mx-auto mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: otherUser === null || otherUser === void 0 ? void 0 : otherUser.avatarUrl,\n              alt: \"\",\n              className: \"img-thumbnail rounded-circle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"text-truncate\",\n            children: otherUser === null || otherUser === void 0 ? void 0 : otherUser.fullName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted\",\n            children: \"Start Audio Call\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-5\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-inline mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"list-inline-item px-2 me-2 ms-0\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-danger avatar-sm rounded-circle\",\n                  onClick: toggleCallModal,\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"avatar-title bg-transparent font-size-20\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"ri-close-fill\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 380,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 379,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"list-inline-item px-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-success avatar-sm rounded-circle\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"avatar-title bg-transparent font-size-20\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"ri-phone-fill\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 385,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      tabIndex: \"-1\",\n      isOpen: Videomodal,\n      toggle: toggleVideoModal,\n      centered: true,\n      children: /*#__PURE__*/_jsxDEV(ModalBody, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"avatar-lg mx-auto mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: otherUser === null || otherUser === void 0 ? void 0 : otherUser.avatarUrl,\n              alt: \"\",\n              className: \"img-thumbnail rounded-circle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"text-truncate\",\n            children: otherUser === null || otherUser === void 0 ? void 0 : otherUser.fullName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-muted\",\n            children: isCalling ? \"Calling...\" : \"Start Video Call\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-5\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"list-inline mb-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"list-inline-item px-2 me-2 ms-0\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-danger avatar-sm rounded-circle\",\n                  onClick: () => {\n                    handleCancelCall();\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"avatar-title bg-transparent font-size-20\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"ri-close-fill\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 431,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"list-inline-item px-2\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-success avatar-sm rounded-circle\",\n                  onClick: startVideoCall,\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"avatar-title bg-transparent font-size-20\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"ri-vidicon-fill\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 442,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 5\n  }, this);\n};\n_s(UserHead, \"fRfX1N+bHmxOoRq6tqz30uZfMgk=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n_c = UserHead;\nconst mapStateToProps = state => {\n  const {\n    users,\n    active_user\n  } = state.Chat;\n  return {\n    ...state.Layout,\n    users,\n    active_user\n  };\n};\nexport default connect(mapStateToProps, {\n  openUserSidebar,\n  setFullUser\n})(UserHead);\nvar _c;\n$RefreshReg$(_c, \"UserHead\");","map":{"version":3,"names":["React","useState","useRef","Dropdown","DropdownMenu","DropdownItem","DropdownToggle","Button","Input","Row","Col","Modal","ModalBody","Link","connect","useDispatch","useSelector","openUserSidebar","setFullUser","user","sendValueVideoCall","jsxDEV","_jsxDEV","Fragment","_Fragment","UserHead","props","_s","_messageState$find","_messageState$find$co","dropdownOpen","setDropdownOpen","dropdownOpen1","setDropdownOpen1","Callmodal","setCallModal","Videomodal","setVideoModal","toggle","toggle1","toggleCallModal","toggleVideoModal","timeoutRef","isCalling","setIsCalling","e","preventDefault","closeUserChat","userChat","document","getElementsByClassName","classList","remove","deleteMessage","messageState","state","Message","messages","selectedMessage","Control","otherId","userId","_state$Profile","Profile","profile","dispatch","otherUser","find","message","conversation","console","log","generateRandomChannelName","characters","result","i","randomIndex","Math","floor","random","length","getToken","channelName","response","fetch","ok","Error","status","data","json","token","error","handleRoomIdGenerate","randomId","toString","substring","timestamp","Date","now","roomId","startVideoCall","channel","caller","receiver","method","headers","body","JSON","stringify","then","catch","current","setTimeout","window","location","href","handleCancelCall","clearTimeout","children","className","sm","xs","to","onClick","fileName","_jsxFileName","lineNumber","columnNumber","avatarUrl","src","alt","userName","charAt","fullName","isOpen","color","type","placeholder","tabIndex","centered","_c","mapStateToProps","users","active_user","Chat","Layout","$RefreshReg$"],"sources":["C:/Users/Administrator/Desktop/ChatBF/ChatviaFE/src/pages/dashboard/UserChat/UserHead.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport {\r\n  Dropdown,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  DropdownToggle,\r\n  Button,\r\n  Input,\r\n  Row,\r\n  Col,\r\n  Modal,\r\n  ModalBody,\r\n} from \"reactstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect, useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { openUserSidebar, setFullUser } from \"../../../redux/actions\";\r\n\r\n//import images\r\nimport user from \"../../../assets/images/users/avatar-4.jpg\";\r\nimport { sendValueVideoCall } from \"../../../redux/control/actions\";\r\n\r\n\r\nconst UserHead = (props) => {\r\n  const [dropdownOpen, setDropdownOpen] = useState(false);\r\n  const [dropdownOpen1, setDropdownOpen1] = useState(false);\r\n  const [Callmodal, setCallModal] = useState(false);\r\n  const [Videomodal, setVideoModal] = useState(false);\r\n\r\n  const toggle = () => setDropdownOpen(!dropdownOpen);\r\n  const toggle1 = () => setDropdownOpen1(!dropdownOpen1);\r\n  const toggleCallModal = () => setCallModal(!Callmodal);\r\n  const toggleVideoModal = () => setVideoModal(!Videomodal);\r\n\r\n  const timeoutRef = useRef(null);\r\n\r\n  const [isCalling, setIsCalling] = useState(false)\r\n\r\n  const openUserSidebar = (e) => {\r\n    e.preventDefault();\r\n    props.openUserSidebar();\r\n  };\r\n\r\n  function closeUserChat(e) {\r\n    e.preventDefault();\r\n    var userChat = document.getElementsByClassName(\"user-chat\");\r\n    if (userChat) {\r\n      userChat[0].classList.remove(\"user-chat-show\");\r\n    }\r\n  }\r\n\r\n  function deleteMessage() {}\r\n\r\n  // const new code\r\n  const messageState = useSelector((state) => state.Message.messages);\r\n  const selectedMessage = useSelector((state) => state.Control.otherId);\r\n  const userId = useSelector((state) => state.Profile?.profile.userId);\r\n\r\n \r\n  \r\n\r\n  \r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const otherUser = messageState.find(\r\n    (message) => message.conversation.otherId.userId === selectedMessage\r\n  )?.conversation?.otherId;\r\n  console.log(otherUser);\r\n\r\n  function generateRandomChannelName() {\r\n    const characters = \"abcdefghijklmnopqrstuvwxyz\";\r\n    let result = \"\";\r\n    for (let i = 0; i < 6; i++) {\r\n      const randomIndex = Math.floor(Math.random() * characters.length);\r\n      result += characters[randomIndex];\r\n    }\r\n    return result;\r\n  }\r\n\r\n  async function getToken(channelName) {\r\n    try {\r\n      const response = await fetch(\r\n        `http://localhost:8080/access_token?channelName=${channelName}&role=publisher&expireTime=3600`\r\n      );\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      const data = await response.json();\r\n      const token = data.token; // Assign the token to a variable\r\n      console.log(\"Token:\", token); // Log the token to the console\r\n      return token; // Return the token from the function\r\n    } catch (error) {\r\n      console.error(\"Error fetching token:\", error);\r\n      return null; // Return null in case of error\r\n    }\r\n  }\r\n\r\n\r\n  const handleRoomIdGenerate = () => {\r\n    const randomId = Math.random().toString(36).substring(2, 9);\r\n    const timestamp = Date.now().toString().substring(-4);\r\n    return randomId + timestamp;\r\n  };\r\n\r\n  const roomId = handleRoomIdGenerate();\r\n\r\n  const startVideoCall = async () => {\r\n    setIsCalling(true)\r\n    if (otherUser) {\r\n      const channel = generateRandomChannelName();\r\n      const token = await getToken(channel) + \"\";\r\n      const caller = userId + \"\";\r\n      const receiver = otherUser.userId + \"\";\r\n      // Gửi yêu cầu POST\r\n\r\n\r\n      fetch(\"https://localhost:7098/api/Stream/startvideocall\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          roomId: roomId,\r\n          caller: caller,\r\n          receiver: receiver,\r\n        }),\r\n      })\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            throw new Error(`HTTP error! status: ${response.status}`);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((data) => {\r\n          console.log(\"Success:\", data);\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error:\", error);\r\n        });\r\n     timeoutRef.current =  setTimeout(() => {\r\n        \r\n        if(window.location.href !== 'http://localhost:3000/video-call'){\r\n            console.log(window.location.href);\r\n            window.location.href = \"/\";\r\n        }\r\n      }, 30 * 1000);\r\n    }\r\n  };\r\n\r\n  const handleCancelCall = async ()=> {\r\n    toggleVideoModal();\r\n\r\n    if(isCalling){\r\n\r\n      const caller = userId + \"\";\r\n      const receiver = otherUser.userId + \"\";\r\n\r\n      fetch(\"https://localhost:7098/api/Stream/cancelvideocall\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          roomId: roomId,\r\n          caller: caller,\r\n          receiver: receiver,\r\n        }),\r\n      })\r\n        .then((response) => {\r\n          if (!response.ok) {\r\n            throw new Error(`HTTP error! status: ${response.status}`);\r\n          }\r\n          return response.json();\r\n        })\r\n        .then((data) => {\r\n          console.log(\"Success:\", data);\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error:\", error);\r\n        });\r\n\r\n        if (timeoutRef.current) {\r\n          clearTimeout(timeoutRef.current); // Hủy setTimeout\r\n          timeoutRef.current = null; // Đặt về null để tránh gọi lại\r\n        }\r\n    }\r\n\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"p-3 p-lg-4 border-bottom user-chat-topbar\">\r\n        <Row className=\"align-items-center\">\r\n          <Col sm={4} xs={8}>\r\n            <div className=\"d-flex align-items-center\">\r\n              <div className=\"d-block d-lg-none me-2 ms-0\">\r\n                <Link\r\n                  to=\"#\"\r\n                  onClick={(e) => closeUserChat(e)}\r\n                  className=\"user-chat-remove text-muted font-size-16 p-2\"\r\n                >\r\n                  <i className=\"ri-arrow-left-s-line\"></i>\r\n                </Link>\r\n              </div>\r\n              {otherUser?.avatarUrl !== \"\" ? (\r\n                <div className=\"me-3 ms-0\">\r\n                  <img\r\n                    src={otherUser?.avatarUrl}\r\n                    className=\"rounded-circle avatar-xs\"\r\n                    alt=\"chatvia\"\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div className=\"chat-user-img align-self-center me-3\">\r\n                  <div className=\"avatar-xs\">\r\n                    <span className=\"avatar-title rounded-circle bg-primary-subtle text-primary\">\r\n                      {otherUser?.userName.charAt(0)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"flex-grow-1 overflow-hidden\">\r\n                <h5 className=\"font-size-16 mb-0 text-truncate\">\r\n                  {/* OPEN SIDEBAR HÊHÊ */}\r\n                  <Link\r\n                    to=\"#\"\r\n                    onClick={(e) => openUserSidebar(e)}\r\n                    className=\"text-reset user-profile-show\"\r\n                  >\r\n                    {otherUser?.fullName}\r\n                  </Link>\r\n\r\n                  {/* Status Online, */}\r\n                  {(() => {\r\n                    switch (\"online\") {\r\n                      case \"online\":\r\n                        return (\r\n                          <>\r\n                            <i className=\"ri-record-circle-fill font-size-10 text-success d-inline-block ms-2\"></i>\r\n                          </>\r\n                        );\r\n\r\n                      case \"away\":\r\n                        return (\r\n                          <>\r\n                            <i className=\"ri-record-circle-fill font-size-10 text-warning d-inline-block ms-1\"></i>\r\n                          </>\r\n                        );\r\n\r\n                      case \"offline\":\r\n                        return (\r\n                          <>\r\n                            <i className=\"ri-record-circle-fill font-size-10 text-secondary d-inline-block ms-1\"></i>\r\n                          </>\r\n                        );\r\n\r\n                      default:\r\n                        return;\r\n                    }\r\n                  })()}\r\n                </h5>\r\n              </div>\r\n            </div>\r\n          </Col>\r\n          <Col sm={8} xs={4}>\r\n            <ul className=\"list-inline user-chat-nav text-end mb-0\">\r\n              <li className=\"list-inline-item\">\r\n                <Dropdown isOpen={dropdownOpen} toggle={toggle}>\r\n                  <DropdownToggle\r\n                    color=\"none\"\r\n                    className=\"btn nav-btn \"\r\n                    type=\"button\"\r\n                  >\r\n                    <i className=\"ri-search-line\"></i>\r\n                  </DropdownToggle>\r\n                  <DropdownMenu className=\"p-0 dropdown-menu-end dropdown-menu-md\">\r\n                    <div className=\"search-box p-2\">\r\n                      <Input\r\n                        type=\"text\"\r\n                        className=\"form-control bg-light border-0\"\r\n                        placeholder=\"Search..\"\r\n                      />\r\n                    </div>\r\n                  </DropdownMenu>\r\n                </Dropdown>\r\n              </li>\r\n              <li className=\"list-inline-item d-none d-lg-inline-block me-2 ms-0\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={toggleCallModal}\r\n                  className=\"btn nav-btn\"\r\n                >\r\n                  <i className=\"ri-phone-line\"></i>\r\n                </button>\r\n              </li>\r\n              <li className=\"list-inline-item d-none d-lg-inline-block me-2 ms-0\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={toggleVideoModal}\r\n                  className=\"btn nav-btn\"\r\n                >\r\n                  <i className=\"ri-vidicon-line\"></i>\r\n                </button>\r\n              </li>\r\n\r\n              <li className=\"list-inline-item d-none d-lg-inline-block me-2 ms-0\">\r\n                <Button\r\n                  type=\"button\"\r\n                  color=\"none\"\r\n                  onClick={(e) => openUserSidebar(e)}\r\n                  className=\"nav-btn user-profile-show\"\r\n                >\r\n                  <i className=\"ri-user-2-line\"></i>\r\n                </Button>\r\n              </li>\r\n\r\n              <li className=\"list-inline-item\">\r\n                <Dropdown isOpen={dropdownOpen1} toggle={toggle1}>\r\n                  <DropdownToggle\r\n                    className=\"btn nav-btn \"\r\n                    color=\"none\"\r\n                    type=\"button\"\r\n                  >\r\n                    <i className=\"ri-more-fill\"></i>\r\n                  </DropdownToggle>\r\n                  <DropdownMenu className=\"dropdown-menu-end\">\r\n                    <DropdownItem\r\n                      className=\"d-block d-lg-none user-profile-show\"\r\n                      onClick={(e) => openUserSidebar(e)}\r\n                    >\r\n                      View profile{\" \"}\r\n                      <i className=\"ri-user-2-line float-end text-muted\"></i>\r\n                    </DropdownItem>\r\n                    <DropdownItem>\r\n                      Archive{\" \"}\r\n                      <i className=\"ri-archive-line float-end text-muted\"></i>\r\n                    </DropdownItem>\r\n                    <DropdownItem>\r\n                      Muted{\" \"}\r\n                      <i className=\"ri-volume-mute-line float-end text-muted\"></i>\r\n                    </DropdownItem>\r\n                    <DropdownItem onClick={(e) => deleteMessage(e)}>\r\n                      Delete{\" \"}\r\n                      <i className=\"ri-delete-bin-line float-end text-muted\"></i>\r\n                    </DropdownItem>\r\n                  </DropdownMenu>\r\n                </Dropdown>\r\n              </li>\r\n            </ul>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n\r\n      {/* Start Audiocall Modal */}\r\n      <Modal tabIndex=\"-1\" isOpen={Callmodal} toggle={toggleCallModal} centered>\r\n        <ModalBody>\r\n          <div className=\"text-center p-4\">\r\n            <div className=\"avatar-lg mx-auto mb-4\">\r\n              <img\r\n                src={otherUser?.avatarUrl}\r\n                alt=\"\"\r\n                className=\"img-thumbnail rounded-circle\"\r\n              />\r\n            </div>\r\n\r\n            <h5 className=\"text-truncate\">{otherUser?.fullName}</h5>\r\n            <p className=\"text-muted\">Start Audio Call</p>\r\n\r\n            <div className=\"mt-5\">\r\n              <ul className=\"list-inline mb-1\">\r\n                <li className=\"list-inline-item px-2 me-2 ms-0\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-danger avatar-sm rounded-circle\"\r\n                    onClick={toggleCallModal}\r\n                  >\r\n                    <span className=\"avatar-title bg-transparent font-size-20\">\r\n                      <i className=\"ri-close-fill\"></i>\r\n                    </span>\r\n                  </button>\r\n                </li>\r\n                <li className=\"list-inline-item px-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-success avatar-sm rounded-circle\"\r\n                  >\r\n                    <span className=\"avatar-title bg-transparent font-size-20\">\r\n                      <i className=\"ri-phone-fill\"></i>\r\n                    </span>\r\n                  </button>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </ModalBody>\r\n      </Modal>\r\n\r\n      {/* Start VideoCall Modal */}\r\n      <Modal\r\n        tabIndex=\"-1\"\r\n        isOpen={Videomodal}\r\n        toggle={toggleVideoModal}\r\n        centered\r\n      >\r\n        <ModalBody>\r\n          <div className=\"text-center p-4\">\r\n            <div className=\"avatar-lg mx-auto mb-4\">\r\n              <img\r\n                src={otherUser?.avatarUrl}\r\n                alt=\"\"\r\n                className=\"img-thumbnail rounded-circle\"\r\n              />\r\n            </div>\r\n\r\n            <h5 className=\"text-truncate\">{otherUser?.fullName}</h5>\r\n            <p className=\"text-muted\">{isCalling ? \"Calling...\" : \"Start Video Call\"}</p>\r\n\r\n            <div className=\"mt-5\">\r\n              <ul className=\"list-inline mb-1\">\r\n                <li className=\"list-inline-item px-2 me-2 ms-0\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-danger avatar-sm rounded-circle\"\r\n                    onClick={() => {\r\n                      handleCancelCall();\r\n                    }}\r\n                  >\r\n                    <span className=\"avatar-title bg-transparent font-size-20\">\r\n                      <i className=\"ri-close-fill\"></i>\r\n                    </span>\r\n                  </button>\r\n                </li>\r\n                <li className=\"list-inline-item px-2\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-success avatar-sm rounded-circle\"\r\n                    onClick={startVideoCall}\r\n                  >\r\n                    <span className=\"avatar-title bg-transparent font-size-20\">\r\n                      <i className=\"ri-vidicon-fill\"></i>\r\n                    </span>\r\n                  </button>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </ModalBody>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { users, active_user } = state.Chat;\r\n  return { ...state.Layout, users, active_user };\r\n};\r\n\r\nexport default connect(mapStateToProps, { openUserSidebar, setFullUser })(\r\n  UserHead\r\n);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}