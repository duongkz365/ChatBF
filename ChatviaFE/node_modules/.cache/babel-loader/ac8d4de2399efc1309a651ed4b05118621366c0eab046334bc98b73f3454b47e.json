{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\ChatBF\\\\ChatviaFE\\\\src\\\\pages\\\\dashboard\\\\UserChat\\\\index.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { DropdownMenu, DropdownItem, DropdownToggle, UncontrolledDropdown, Modal, ModalHeader, ModalBody, CardBody, Button, ModalFooter } from \"reactstrap\";\nimport { connect, useSelector } from \"react-redux\";\nimport SimpleBar from \"simplebar-react\";\nimport withRouter from \"../../../components/withRouter\";\n\n//Import Components\nimport UserProfileSidebar from \"../../../components/UserProfileSidebar\";\nimport SelectContact from \"../../../components/SelectContact\";\nimport UserHead from \"./UserHead\";\nimport ImageList from \"./ImageList\";\nimport ChatInput from \"./ChatInput\";\nimport FileList from \"./FileList\";\n\n//actions\nimport { openUserSidebar, setFullUser } from \"../../../redux/actions\";\n\n//Import Images\nimport avatar4 from \"../../../assets/images/users/avatar-4.jpg\";\nimport avatar1 from \"../../../assets/images/users/avatar-1.jpg\";\n\n//i18n\nimport { useTranslation } from \"react-i18next\";\nimport \"../../../assets/scss/test.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserChat(props) {\n  _s();\n  var _messageState$find, _messageState$find$co;\n  const ref = useRef();\n  const [modal, setModal] = useState(false);\n\n  /* intilize t variable for multi language implementation */\n  const {\n    t\n  } = useTranslation();\n\n  //demo conversation messages\n  //userType must be required\n  const [allUsers] = useState(props.recentChatList);\n  const [chatMessages, setchatMessages] = useState(props.recentChatList[props.active_user].messages);\n  useEffect(() => {\n    setchatMessages(props.recentChatList[props.active_user].messages);\n    // ref.current.recalculate();\n    // if (ref.current.el) {\n    //     ref.current.getScrollElement().scrollTop = ref.current.getScrollElement().scrollHeight;\n    // }\n  }, [props.active_user, props.recentChatList]);\n  const toggle = () => setModal(!modal);\n  const addMessage = (message, type) => {\n    var messageObj = null;\n    let d = new Date();\n    var n = d.getSeconds();\n\n    //matches the message type is text, file or image, and create object according to it\n    switch (type) {\n      case \"textMessage\":\n        messageObj = {\n          id: chatMessages.length + 1,\n          message: message,\n          time: \"00:\" + n,\n          userType: \"sender\",\n          image: avatar4,\n          isFileMessage: false,\n          isImageMessage: false\n        };\n        break;\n      case \"fileMessage\":\n        messageObj = {\n          id: chatMessages.length + 1,\n          message: \"file\",\n          fileMessage: message.name,\n          size: message.size,\n          time: \"00:\" + n,\n          userType: \"sender\",\n          image: avatar4,\n          isFileMessage: true,\n          isImageMessage: false\n        };\n        break;\n      case \"imageMessage\":\n        var imageMessage = [{\n          image: message\n        }];\n        messageObj = {\n          id: chatMessages.length + 1,\n          message: \"image\",\n          imageMessage: imageMessage,\n          size: message.size,\n          time: \"00:\" + n,\n          userType: \"sender\",\n          image: avatar4,\n          isImageMessage: true,\n          isFileMessage: false\n        };\n        break;\n      default:\n        break;\n    }\n\n    //add message object to chat\n    setchatMessages([...chatMessages, messageObj]);\n    let copyallUsers = [...allUsers];\n    copyallUsers[props.active_user].messages = [...chatMessages, messageObj];\n    copyallUsers[props.active_user].isTyping = false;\n    props.setFullUser(copyallUsers);\n    scrolltoBottom();\n  };\n  function scrolltoBottom() {\n    if (ref.current.el) {\n      ref.current.getScrollElement().scrollTop = ref.current.getScrollElement().scrollHeight;\n    }\n  }\n  const deleteMessage = id => {\n    let conversation = chatMessages;\n    var filtered = conversation.filter(function (item) {\n      return item.id !== id;\n    });\n    setchatMessages(filtered);\n  };\n  const dataArray = [{\n    conversation: {\n      userId: \"d41fc8b7-589b-4b43-8daf-6031e8d6d608\",\n      otherId: {\n        userId: \"2e6c7ba8-b5db-44dc-b0dc-8cec6f6a8165\",\n        userName: \"username13\",\n        email: \"email@gmail.com1\",\n        avatarUrl: \"https://localhost:7266/uploads/ab69ecb7-9541-4562-8507-11995089cc9c_Screenshot%202024-08-06%20220146.png\",\n        bio: \"This is my bio\",\n        createdAt: \"2024-10-27T13:59:35.514Z\",\n        fullName: \"email@gmail.com1\",\n        permission: \"user\"\n      }\n    },\n    messages: [{\n      id: {\n        timestamp: 1730117604,\n        creationTime: \"2024-10-28T12:13:24Z\"\n      },\n      senderId: \"d41fc8b7-589b-4b43-8daf-6031e8d6d608\",\n      receiverId: \"2e6c7ba8-b5db-44dc-b0dc-8cec6f6a8165\",\n      content: \"Hello, how are you?\",\n      messageType: \"text\",\n      mediaUrl: null,\n      sentAt: \"2024-10-22T10:30:00Z\",\n      readAt: \"2024-10-22T10:32:00Z\",\n      status: \"sent\",\n      isGroupMessage: false\n    }, {\n      id: {\n        timestamp: 1730117604,\n        creationTime: \"2024-10-28T12:13:24Z\"\n      },\n      senderId: \"2e6c7ba8-b5db-44dc-b0dc-8cec6f6a8165\",\n      receiverId: \"d41fc8b7-589b-4b43-8daf-6031e8d6d608\",\n      content: \"I am fine, thank you!\",\n      messageType: \"text\",\n      mediaUrl: null,\n      sentAt: \"2024-10-22T10:35:00Z\",\n      readAt: \"2024-10-22T10:36:00Z\",\n      status: \"sent\",\n      isGroupMessage: false\n    }, {\n      id: {\n        timestamp: 1730117604,\n        creationTime: \"2024-10-28T12:13:24Z\"\n      },\n      senderId: \"d41fc8b7-589b-4b43-8daf-6031e8d6d608\",\n      receiverId: \"2e6c7ba8-b5db-44dc-b0dc-8cec6f6a8165\",\n      content: \"What are you up to today?\",\n      messageType: \"text\",\n      mediaUrl: null,\n      sentAt: \"2024-10-22T10:40:00Z\",\n      readAt: null,\n      status: \"sent\",\n      isGroupMessage: false\n    }, {\n      id: {\n        timestamp: 1730275698,\n        creationTime: \"2024-10-30T08:08:18Z\"\n      },\n      senderId: \"d41fc8b7-589b-4b43-8daf-6031e8d6d608\",\n      receiverId: \"2e6c7ba8-b5db-44dc-b0dc-8cec6f6a8165\",\n      content: \"Tôi Không khỏe bạn khỏe không không :v\",\n      messageType: \"text\",\n      mediaUrl: null,\n      sentAt: \"2024-10-30T08:08:18.228Z\",\n      readAt: null,\n      status: \"sent\",\n      isGroupMessage: false\n    }, {\n      id: {\n        timestamp: 1730276140,\n        creationTime: \"2024-10-30T08:15:40Z\"\n      },\n      senderId: \"d41fc8b7-589b-4b43-8daf-6031e8d6d608\",\n      receiverId: \"2e6c7ba8-b5db-44dc-b0dc-8cec6f6a8165\",\n      content: \"Tôi Không khỏe bạn khỏe không không :v\",\n      messageType: \"text\",\n      mediaUrl: null,\n      sentAt: \"2024-10-30T08:15:40.2Z\",\n      readAt: null,\n      status: \"sent\",\n      isGroupMessage: false\n    }, {\n      id: {\n        timestamp: 1730276395,\n        creationTime: \"2024-10-30T08:19:55Z\"\n      },\n      senderId: \"2e6c7ba8-b5db-44dc-b0dc-8cec6f6a8165\",\n      receiverId: \"d41fc8b7-589b-4b43-8daf-6031e8d6d608\",\n      content: \"Tôi đây\",\n      messageType: \"text\",\n      mediaUrl: null,\n      sentAt: \"2024-10-30T08:19:55.574Z\",\n      readAt: null,\n      status: \"sent\",\n      isGroupMessage: false\n    }, {\n      id: {\n        timestamp: 1729757161,\n        creationTime: \"2024-10-24T08:06:01Z\"\n      },\n      senderId: \"2e6c7ba8-b5db-44dc-b0dc-8cec6f6a8165\",\n      receiverId: \"d41fc8b7-589b-4b43-8daf-6031e8d6d608\",\n      content: \"5c063a69-de56-441a-a315-4759af37f1fb_Screenshot 2024-08-06 220146.png\",\n      messageType: \"image\",\n      mediaUrl: \"https://scontent.fsgn5-15.fna.fbcdn.net/v/t39.30808-6/279730753_1674149106267314_2460136207078036044_n.jpg?_nc_cat=101&ccb=1-7&_nc_sid=94e2a3&_nc_eui2=AeF_y8iPX07KS55lq59v1iPJbylYTCXb3e1vKVhMJdvd7cPoaaUlGp0KVrSzdXMT-ir4go9OdXWqjETUmWCCRdT6&_nc_ohc=FQD8XpZ79XAQ7kNvgFic8PZ&_nc_zt=23&_nc_ht=scontent.fsgn5-15.fna&_nc_gid=A6z6vrg8rgwDi640XVGghzW&oh=00_AYCtHGctPpWxjcFLaCdS__uu1GMgVXtiRQqvKfSDQdKqSA&oe=672C01EB\",\n      sentAt: \"2024-10-24T08:06:01.068Z\",\n      readAt: null,\n      status: \"sent\",\n      isGroupMessage: false\n    }]\n  }];\n  const selectedState = useSelector(state => {\n    var _state$Control;\n    return (_state$Control = state.Control) === null || _state$Control === void 0 ? void 0 : _state$Control.otherId;\n  });\n  const messageState = useSelector(state => {\n    var _state$Message;\n    return (_state$Message = state.Message) === null || _state$Message === void 0 ? void 0 : _state$Message.messages;\n  });\n  const profileState = useSelector(state => {\n    var _state$Profile;\n    return (_state$Profile = state.Profile) === null || _state$Profile === void 0 ? void 0 : _state$Profile.profile;\n  });\n  console.log(profileState);\n  const otherProfileState = (_messageState$find = messageState.find(message => {\n    var _message$conversation, _message$conversation2;\n    return (message === null || message === void 0 ? void 0 : (_message$conversation = message.conversation) === null || _message$conversation === void 0 ? void 0 : (_message$conversation2 = _message$conversation.otherId) === null || _message$conversation2 === void 0 ? void 0 : _message$conversation2.userId) === selectedState;\n  })) === null || _messageState$find === void 0 ? void 0 : (_messageState$find$co = _messageState$find.conversation) === null || _messageState$find$co === void 0 ? void 0 : _messageState$find$co.otherId;\n  console.log(otherProfileState);\n  var messageOtherUser = messageState.find(message => {\n    var _message$conversation3, _message$conversation4;\n    return (message === null || message === void 0 ? void 0 : (_message$conversation3 = message.conversation) === null || _message$conversation3 === void 0 ? void 0 : (_message$conversation4 = _message$conversation3.otherId) === null || _message$conversation4 === void 0 ? void 0 : _message$conversation4.userId) === selectedState;\n  });\n  const mess = [messageOtherUser];\n  const bottomRef = useRef(null);\n  useEffect(() => {\n    // Cuộn đến phần tử cuối cùng khi danh sách tin nhắn thay đổi\n    if (bottomRef.current) {\n      bottomRef.current.scrollIntoView({\n        behavior: 'auto'\n      });\n    }\n  }, [messageState, selectedState]);\n  if (!selectedState) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 9\n    }, this);\n  }\n  function getFileName(url) {\n    // Biểu thức chính quy để tìm GUID với phần tên file theo sau dấu gạch dưới\n    const regex = /.*[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}_(.+)$/;\n    const match = url.match(regex);\n\n    // Nếu có GUID, lấy phần tên file sau GUID\n    // Nếu không có GUID, lấy phần cuối cùng của URL\n    return match ? match[1] : url.split('/').pop();\n  }\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user-chat w-100 overflow-hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-lg-flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: props.userSidebar ? \"w-70 overflow-hidden position-relative\" : \"w-100 overflow-hidden position-relative\",\n          children: [/*#__PURE__*/_jsxDEV(UserHead, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SimpleBar, {\n            id: \"messages\",\n            className: \"chat-conversation p-5 p-lg-4\",\n            style: {\n              background: \"#d4d4d4\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"chat-container\",\n              style: {\n                maxHeight: \"100%\",\n                overflowY: \"auto\",\n                padding: \"1rem\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"chat-list\",\n                children: [mess && mess.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"chat-item\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"conversation-list\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"user-chat-content\",\n                      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                        className: \"message-list\",\n                        children: item === null || item === void 0 ? void 0 : item.messages.map((message, msgIndex) => {\n                          // Sử dụng senderId hoặc receiverId làm tên người gửi\n\n                          return /*#__PURE__*/_jsxDEV(\"li\", {\n                            className: `message-item ${message.senderId === item.conversation.userId ? \"sender\" : \"receiver\"}`,\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"ctext-wrap\",\n                              children: [message.senderId === item.conversation.userId ? \"\" : /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"message-avatar\",\n                                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                                  src: otherProfileState === null || otherProfileState === void 0 ? void 0 : otherProfileState.avatarUrl,\n                                  alt: \"message-avatar\",\n                                  style: {\n                                    width: \"80px\",\n                                    height: \"80px\",\n                                    borderRadius: \"50%\"\n                                  }\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 363,\n                                  columnNumber: 41\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 361,\n                                columnNumber: 39\n                              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: `ctext-wrap-content ${message.senderId === item.conversation.userId ? \"receiverh\" : \"senderh\"}`,\n                                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                                  className: \"sender-name\",\n                                  children: message.senderId === (profileState === null || profileState === void 0 ? void 0 : profileState.userId) ? profileState.userName : otherProfileState === null || otherProfileState === void 0 ? void 0 : otherProfileState.userName\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 384,\n                                  columnNumber: 39\n                                }, this), message.messageType === \"text\" && /*#__PURE__*/_jsxDEV(\"p\", {\n                                  children: message.content\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 390,\n                                  columnNumber: 41\n                                }, this), message.messageType === \"file\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"file-message\",\n                                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                                    href: message.mediaUrl,\n                                    target: \"_blank\",\n                                    rel: \"noopener noreferrer\",\n                                    children: getFileName(message.mediaUrl)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 394,\n                                    columnNumber: 43\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 393,\n                                  columnNumber: 41\n                                }, this), message.messageType === \"image\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"image-message\",\n                                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                                    href: message.mediaUrl,\n                                    target: \"_blank\",\n                                    rel: \"noopener noreferrer\",\n                                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                                      style: {\n                                        maxWidth: \"500px\",\n                                        maxHeight: \"500px\"\n                                      },\n                                      src: message.mediaUrl,\n                                      alt: message.content,\n                                      className: \"message-image\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 413,\n                                      columnNumber: 43\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 407,\n                                    columnNumber: 43\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 406,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                  className: \"chat-time\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                                    className: \"ri-time-line\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 428,\n                                    columnNumber: 41\n                                  }, this), \" \", new Date(message.sentAt).toLocaleTimeString()]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 427,\n                                  columnNumber: 39\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 375,\n                                columnNumber: 37\n                              }, this), message.senderId === item.conversation.userId ? /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"message-avatar\",\n                                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                                  src: profileState === null || profileState === void 0 ? void 0 : profileState.avatarUrl,\n                                  alt: \"message-avatar\",\n                                  style: {\n                                    width: \"80px\",\n                                    height: \"80px\",\n                                    borderRadius: \"50%\"\n                                  }\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 438,\n                                  columnNumber: 41\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 436,\n                                columnNumber: 39\n                              }, this) : \"\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 356,\n                              columnNumber: 35\n                            }, this)\n                          }, msgIndex, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 347,\n                            columnNumber: 33\n                          }, this);\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 341,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 339,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 23\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 21\n                }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                  ref: bottomRef\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Modal, {\n            backdrop: \"static\",\n            isOpen: modal,\n            centered: true,\n            toggle: toggle,\n            children: [/*#__PURE__*/_jsxDEV(ModalHeader, {\n              toggle: toggle,\n              children: \"Forward to...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ModalBody, {\n              children: /*#__PURE__*/_jsxDEV(CardBody, {\n                className: \"p-2\",\n                children: [/*#__PURE__*/_jsxDEV(SimpleBar, {\n                  style: {\n                    maxHeight: \"200px\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(SelectContact, {\n                    handleCheck: () => {}\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 474,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n                  className: \"border-0\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    color: \"primary\",\n                    children: \"Forward\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 477,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ChatInput, {\n            onaddMessage: addMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(UserProfileSidebar, {\n          activeUser: props.recentChatList[props.active_user]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 314,\n    columnNumber: 5\n  }, this);\n}\n_s(UserChat, \"p6ZyadzTDOadJ46QFnwy47TEAYI=\", false, function () {\n  return [useTranslation, useSelector, useSelector, useSelector];\n});\n_c = UserChat;\nconst mapStateToProps = state => {\n  const {\n    active_user\n  } = state.Chat;\n  const {\n    userSidebar\n  } = state.Layout;\n  return {\n    active_user,\n    userSidebar\n  };\n};\nexport default withRouter(connect(mapStateToProps, {\n  openUserSidebar,\n  setFullUser\n})(UserChat));\nvar _c;\n$RefreshReg$(_c, \"UserChat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","DropdownMenu","DropdownItem","DropdownToggle","UncontrolledDropdown","Modal","ModalHeader","ModalBody","CardBody","Button","ModalFooter","connect","useSelector","SimpleBar","withRouter","UserProfileSidebar","SelectContact","UserHead","ImageList","ChatInput","FileList","openUserSidebar","setFullUser","avatar4","avatar1","useTranslation","jsxDEV","_jsxDEV","UserChat","props","_s","_messageState$find","_messageState$find$co","ref","modal","setModal","t","allUsers","recentChatList","chatMessages","setchatMessages","active_user","messages","toggle","addMessage","message","type","messageObj","d","Date","n","getSeconds","id","length","time","userType","image","isFileMessage","isImageMessage","fileMessage","name","size","imageMessage","copyallUsers","isTyping","scrolltoBottom","current","el","getScrollElement","scrollTop","scrollHeight","deleteMessage","conversation","filtered","filter","item","dataArray","userId","otherId","userName","email","avatarUrl","bio","createdAt","fullName","permission","timestamp","creationTime","senderId","receiverId","content","messageType","mediaUrl","sentAt","readAt","status","isGroupMessage","selectedState","state","_state$Control","Control","messageState","_state$Message","Message","profileState","_state$Profile","Profile","profile","console","log","otherProfileState","find","_message$conversation","_message$conversation2","messageOtherUser","_message$conversation3","_message$conversation4","mess","bottomRef","scrollIntoView","behavior","fileName","_jsxFileName","lineNumber","columnNumber","getFileName","url","regex","match","split","pop","Fragment","children","className","userSidebar","style","background","maxHeight","overflowY","padding","map","index","msgIndex","src","alt","width","height","borderRadius","href","target","rel","maxWidth","toLocaleTimeString","backdrop","isOpen","centered","handleCheck","color","onaddMessage","activeUser","_c","mapStateToProps","Chat","Layout","$RefreshReg$"],"sources":["C:/Users/Administrator/Desktop/ChatBF/ChatviaFE/src/pages/dashboard/UserChat/index.js"],"sourcesContent":["\r\nimport React, { useState, useEffect, useRef } from \"react\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  DropdownToggle,\r\n  UncontrolledDropdown,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody,\r\n  CardBody,\r\n  Button,\r\n  ModalFooter,\r\n} from \"reactstrap\";\r\nimport { connect, useSelector } from \"react-redux\";\r\n\r\nimport SimpleBar from \"simplebar-react\";\r\n\r\nimport withRouter from \"../../../components/withRouter\";\r\n\r\n//Import Components\r\nimport UserProfileSidebar from \"../../../components/UserProfileSidebar\";\r\nimport SelectContact from \"../../../components/SelectContact\";\r\nimport UserHead from \"./UserHead\";\r\nimport ImageList from \"./ImageList\";\r\nimport ChatInput from \"./ChatInput\";\r\nimport FileList from \"./FileList\";\r\n\r\n//actions\r\nimport { openUserSidebar, setFullUser } from \"../../../redux/actions\";\r\n\r\n//Import Images\r\nimport avatar4 from \"../../../assets/images/users/avatar-4.jpg\";\r\nimport avatar1 from \"../../../assets/images/users/avatar-1.jpg\";\r\n\r\n//i18n\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nimport \"../../../assets/scss/test.css\";\r\n\r\nfunction UserChat(props) {\r\n  const ref = useRef();\r\n\r\n  const [modal, setModal] = useState(false);\r\n\r\n  /* intilize t variable for multi language implementation */\r\n  const { t } = useTranslation();\r\n\r\n  //demo conversation messages\r\n  //userType must be required\r\n  const [allUsers] = useState(props.recentChatList);\r\n  const [chatMessages, setchatMessages] = useState(\r\n    props.recentChatList[props.active_user].messages\r\n  );\r\n\r\n  useEffect(() => {\r\n    setchatMessages(props.recentChatList[props.active_user].messages);\r\n    // ref.current.recalculate();\r\n    // if (ref.current.el) {\r\n    //     ref.current.getScrollElement().scrollTop = ref.current.getScrollElement().scrollHeight;\r\n    // }\r\n  }, [props.active_user, props.recentChatList]);\r\n\r\n  const toggle = () => setModal(!modal);\r\n\r\n  const addMessage = (message, type) => {\r\n    var messageObj = null;\r\n\r\n    let d = new Date();\r\n    var n = d.getSeconds();\r\n\r\n    //matches the message type is text, file or image, and create object according to it\r\n    switch (type) {\r\n      case \"textMessage\":\r\n        messageObj = {\r\n          id: chatMessages.length + 1,\r\n          message: message,\r\n          time: \"00:\" + n,\r\n          userType: \"sender\",\r\n          image: avatar4,\r\n          isFileMessage: false,\r\n          isImageMessage: false,\r\n        };\r\n        break;\r\n\r\n      case \"fileMessage\":\r\n        messageObj = {\r\n          id: chatMessages.length + 1,\r\n          message: \"file\",\r\n          fileMessage: message.name,\r\n          size: message.size,\r\n          time: \"00:\" + n,\r\n          userType: \"sender\",\r\n          image: avatar4,\r\n          isFileMessage: true,\r\n          isImageMessage: false,\r\n        };\r\n        break;\r\n\r\n      case \"imageMessage\":\r\n        var imageMessage = [{ image: message }];\r\n\r\n        messageObj = {\r\n          id: chatMessages.length + 1,\r\n          message: \"image\",\r\n          imageMessage: imageMessage,\r\n          size: message.size,\r\n          time: \"00:\" + n,\r\n          userType: \"sender\",\r\n          image: avatar4,\r\n          isImageMessage: true,\r\n          isFileMessage: false,\r\n        };\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    //add message object to chat\r\n    setchatMessages([...chatMessages, messageObj]);\r\n\r\n    let copyallUsers = [...allUsers];\r\n    copyallUsers[props.active_user].messages = [...chatMessages, messageObj];\r\n    copyallUsers[props.active_user].isTyping = false;\r\n    props.setFullUser(copyallUsers);\r\n\r\n    scrolltoBottom();\r\n  };\r\n\r\n  function scrolltoBottom() {\r\n    if (ref.current.el) {\r\n      ref.current.getScrollElement().scrollTop =\r\n        ref.current.getScrollElement().scrollHeight;\r\n    }\r\n  }\r\n\r\n  const deleteMessage = (id) => {\r\n    let conversation = chatMessages;\r\n\r\n    var filtered = conversation.filter(function (item) {\r\n      return item.id !== id;\r\n    });\r\n\r\n    setchatMessages(filtered);\r\n  };\r\n\r\n  const dataArray = [\r\n    {\r\n      conversation: {\r\n        userId: \"d41fc8b7-589b-4b43-8daf-6031e8d6d608\",\r\n        otherId: {\r\n          userId: \"2e6c7ba8-b5db-44dc-b0dc-8cec6f6a8165\",\r\n          userName: \"username13\",\r\n          email: \"email@gmail.com1\",\r\n          avatarUrl:\r\n            \"https://localhost:7266/uploads/ab69ecb7-9541-4562-8507-11995089cc9c_Screenshot%202024-08-06%20220146.png\",\r\n          bio: \"This is my bio\",\r\n          createdAt: \"2024-10-27T13:59:35.514Z\",\r\n          fullName: \"email@gmail.com1\",\r\n          permission: \"user\",\r\n        },\r\n      },\r\n      messages: [\r\n        {\r\n          id: {\r\n            timestamp: 1730117604,\r\n            creationTime: \"2024-10-28T12:13:24Z\",\r\n          },\r\n          senderId: \"d41fc8b7-589b-4b43-8daf-6031e8d6d608\",\r\n          receiverId: \"2e6c7ba8-b5db-44dc-b0dc-8cec6f6a8165\",\r\n          content: \"Hello, how are you?\",\r\n          messageType: \"text\",\r\n          mediaUrl: null,\r\n          sentAt: \"2024-10-22T10:30:00Z\",\r\n          readAt: \"2024-10-22T10:32:00Z\",\r\n          status: \"sent\",\r\n          isGroupMessage: false,\r\n        },\r\n        {\r\n          id: {\r\n            timestamp: 1730117604,\r\n            creationTime: \"2024-10-28T12:13:24Z\",\r\n          },\r\n          senderId: \"2e6c7ba8-b5db-44dc-b0dc-8cec6f6a8165\",\r\n          receiverId: \"d41fc8b7-589b-4b43-8daf-6031e8d6d608\",\r\n          content: \"I am fine, thank you!\",\r\n          messageType: \"text\",\r\n          mediaUrl: null,\r\n          sentAt: \"2024-10-22T10:35:00Z\",\r\n          readAt: \"2024-10-22T10:36:00Z\",\r\n          status: \"sent\",\r\n          isGroupMessage: false,\r\n        },\r\n        {\r\n          id: {\r\n            timestamp: 1730117604,\r\n            creationTime: \"2024-10-28T12:13:24Z\",\r\n          },\r\n          senderId: \"d41fc8b7-589b-4b43-8daf-6031e8d6d608\",\r\n          receiverId: \"2e6c7ba8-b5db-44dc-b0dc-8cec6f6a8165\",\r\n          content: \"What are you up to today?\",\r\n          messageType: \"text\",\r\n          mediaUrl: null,\r\n          sentAt: \"2024-10-22T10:40:00Z\",\r\n          readAt: null,\r\n          status: \"sent\",\r\n          isGroupMessage: false,\r\n        },\r\n        {\r\n          id: {\r\n            timestamp: 1730275698,\r\n            creationTime: \"2024-10-30T08:08:18Z\",\r\n          },\r\n          senderId: \"d41fc8b7-589b-4b43-8daf-6031e8d6d608\",\r\n          receiverId: \"2e6c7ba8-b5db-44dc-b0dc-8cec6f6a8165\",\r\n          content: \"Tôi Không khỏe bạn khỏe không không :v\",\r\n          messageType: \"text\",\r\n          mediaUrl: null,\r\n          sentAt: \"2024-10-30T08:08:18.228Z\",\r\n          readAt: null,\r\n          status: \"sent\",\r\n          isGroupMessage: false,\r\n        },\r\n        {\r\n          id: {\r\n            timestamp: 1730276140,\r\n            creationTime: \"2024-10-30T08:15:40Z\",\r\n          },\r\n          senderId: \"d41fc8b7-589b-4b43-8daf-6031e8d6d608\",\r\n          receiverId: \"2e6c7ba8-b5db-44dc-b0dc-8cec6f6a8165\",\r\n          content: \"Tôi Không khỏe bạn khỏe không không :v\",\r\n          messageType: \"text\",\r\n          mediaUrl: null,\r\n          sentAt: \"2024-10-30T08:15:40.2Z\",\r\n          readAt: null,\r\n          status: \"sent\",\r\n          isGroupMessage: false,\r\n        },\r\n        {\r\n          id: {\r\n            timestamp: 1730276395,\r\n            creationTime: \"2024-10-30T08:19:55Z\",\r\n          },\r\n          senderId: \"2e6c7ba8-b5db-44dc-b0dc-8cec6f6a8165\",\r\n          receiverId: \"d41fc8b7-589b-4b43-8daf-6031e8d6d608\",\r\n          content: \"Tôi đây\",\r\n          messageType: \"text\",\r\n          mediaUrl: null,\r\n          sentAt: \"2024-10-30T08:19:55.574Z\",\r\n          readAt: null,\r\n          status: \"sent\",\r\n          isGroupMessage: false,\r\n        },\r\n        {\r\n          id: {\r\n            timestamp: 1729757161,\r\n            creationTime: \"2024-10-24T08:06:01Z\",\r\n          },\r\n          senderId: \"2e6c7ba8-b5db-44dc-b0dc-8cec6f6a8165\",\r\n          receiverId: \"d41fc8b7-589b-4b43-8daf-6031e8d6d608\",\r\n          content:\r\n            \"5c063a69-de56-441a-a315-4759af37f1fb_Screenshot 2024-08-06 220146.png\",\r\n          messageType: \"image\",\r\n          mediaUrl:\r\n            \"https://scontent.fsgn5-15.fna.fbcdn.net/v/t39.30808-6/279730753_1674149106267314_2460136207078036044_n.jpg?_nc_cat=101&ccb=1-7&_nc_sid=94e2a3&_nc_eui2=AeF_y8iPX07KS55lq59v1iPJbylYTCXb3e1vKVhMJdvd7cPoaaUlGp0KVrSzdXMT-ir4go9OdXWqjETUmWCCRdT6&_nc_ohc=FQD8XpZ79XAQ7kNvgFic8PZ&_nc_zt=23&_nc_ht=scontent.fsgn5-15.fna&_nc_gid=A6z6vrg8rgwDi640XVGghzW&oh=00_AYCtHGctPpWxjcFLaCdS__uu1GMgVXtiRQqvKfSDQdKqSA&oe=672C01EB\",\r\n          sentAt: \"2024-10-24T08:06:01.068Z\",\r\n          readAt: null,\r\n          status: \"sent\",\r\n          isGroupMessage: false,\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  const selectedState = useSelector((state)=> state.Control?.otherId);\r\n  const messageState = useSelector((state)=> state.Message?.messages);\r\n  const profileState = useSelector((state)=> state.Profile?.profile)\r\n\r\n  console.log(profileState)\r\n  const otherProfileState = messageState.find(message => message?.conversation?.otherId?.userId === selectedState)?.conversation?.otherId;\r\n  console.log(otherProfileState)\r\n\r\n  var messageOtherUser = messageState.find(message => message?.conversation?.otherId?.userId === selectedState);\r\n\r\n\r\n  const mess = [messageOtherUser];\r\n  \r\n\r\n  const bottomRef = useRef(null);\r\n  useEffect(() => {\r\n      // Cuộn đến phần tử cuối cùng khi danh sách tin nhắn thay đổi\r\n      if (bottomRef.current) {\r\n        bottomRef.current.scrollIntoView({ behavior: 'auto' });\r\n      }\r\n    }, [messageState, selectedState]);\r\n    if(!selectedState){\r\n      return (\r\n        <div></div>\r\n      )\r\n    }\r\n\r\n    function getFileName(url) {\r\n      // Biểu thức chính quy để tìm GUID với phần tên file theo sau dấu gạch dưới\r\n      const regex = /.*[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}_(.+)$/;\r\n      const match = url.match(regex);\r\n      \r\n      // Nếu có GUID, lấy phần tên file sau GUID\r\n      // Nếu không có GUID, lấy phần cuối cùng của URL\r\n      return match ? match[1] : url.split('/').pop();\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"user-chat w-100 overflow-hidden\">\r\n        <div className=\"d-lg-flex\">\r\n          <div\r\n            className={\r\n              props.userSidebar\r\n                ? \"w-70 overflow-hidden position-relative\"\r\n                : \"w-100 overflow-hidden position-relative\"\r\n            }\r\n          >\r\n            {/* render user head */}\r\n            <UserHead />\r\n            <SimpleBar id=\"messages\" className=\"chat-conversation p-5 p-lg-4\" style={{background: \"#d4d4d4\"}}>\r\n              <div\r\n                className=\"chat-container\"\r\n                style={{\r\n                  maxHeight: \"100%\",\r\n                  overflowY: \"auto\",\r\n                  padding: \"1rem\",\r\n                }}\r\n              >\r\n                <ul className=\"chat-list\">\r\n                  {mess && mess.map((item, index) => (\r\n                    <li key={index} className=\"chat-item\">\r\n                      <div className=\"conversation-list\">\r\n                        <div className=\"user-chat-content\">\r\n                          {/* Hiển thị tin nhắn */}\r\n                          <ul className=\"message-list\">\r\n                            {item?.messages.map((message, msgIndex) => {\r\n                              // Sử dụng senderId hoặc receiverId làm tên người gửi\r\n                            \r\n\r\n                              return (\r\n                                <li\r\n                                  key={msgIndex}\r\n                                  className={`message-item ${\r\n                                    message.senderId ===\r\n                                    item.conversation.userId\r\n                                      ? \"sender\"\r\n                                      : \"receiver\"\r\n                                  }`}\r\n                                >\r\n                                  <div className=\"ctext-wrap\">\r\n                                    {message.senderId ===\r\n                                    item.conversation.userId ? (\r\n                                      \"\"\r\n                                    ) : (\r\n                                      <div className=\"message-avatar\">\r\n                                        {/* Avatar cố định cho mỗi tin nhắn, kích thước 80x80 */}\r\n                                        <img\r\n                                          src={otherProfileState?.avatarUrl}\r\n                                          alt=\"message-avatar\"\r\n                                          style={{\r\n                                            width: \"80px\",\r\n                                            height: \"80px\",\r\n                                            borderRadius: \"50%\",\r\n                                          }}\r\n                                        />\r\n                                      </div>\r\n                                    )}\r\n\r\n                                    <div\r\n                                      className={`ctext-wrap-content ${\r\n                                        message.senderId ===\r\n                                        item.conversation.userId\r\n                                          ? \"receiverh\"\r\n                                          : \"senderh\"\r\n                                      }`}\r\n                                    >\r\n                                      {/* Tên người gửi */}\r\n                                      <p className=\"sender-name\">\r\n                                        {message.senderId === profileState?.userId  ? profileState.userName : otherProfileState?.userName}\r\n                                      </p>\r\n\r\n                                      {/* Nội dung tin nhắn */}\r\n                                      {message.messageType === \"text\" && (\r\n                                        <p>{message.content}</p>\r\n                                      )}\r\n                                      {message.messageType === \"file\" && (\r\n                                        <div className=\"file-message\">\r\n                                          <a\r\n                                            href={message.mediaUrl}\r\n                                            target=\"_blank\"\r\n                                            rel=\"noopener noreferrer\"\r\n                                          >\r\n                                            {getFileName(message.mediaUrl)}\r\n                                            \r\n                                          </a>\r\n                                        </div>\r\n                                      )}\r\n\r\n                                      {message.messageType === \"image\" && (\r\n                                        <div className=\"image-message\">\r\n                                          <a\r\n                                           href={message.mediaUrl}\r\n                                           target=\"_blank\"\r\n                                           rel=\"noopener noreferrer\"\r\n                                          >\r\n\r\n                                          <img\r\n                                            style={{\r\n                                              maxWidth: \"500px\",\r\n                                              maxHeight: \"500px\",\r\n                                            }}\r\n                                            src={message.mediaUrl}\r\n                                            alt={message.content}\r\n                                            className=\"message-image\"\r\n                                          />\r\n                                          </a>\r\n                                        </div>\r\n                                      )}\r\n\r\n                                      {/* Thời gian gửi */}\r\n                                      <span className=\"chat-time\">\r\n                                        <i className=\"ri-time-line\"></i>{\" \"}\r\n                                        {new Date(\r\n                                          message.sentAt\r\n                                        ).toLocaleTimeString()}\r\n                                      </span>\r\n                                    </div>\r\n                                    {message.senderId ===\r\n                                    item.conversation.userId ? (\r\n                                      <div className=\"message-avatar\">\r\n                                        {/* Avatar cố định cho mỗi tin nhắn, kích thước 80x80 */}\r\n                                        <img\r\n                                          src={profileState?.avatarUrl}\r\n                                          alt=\"message-avatar\"\r\n                                          style={{\r\n                                            width: \"80px\",\r\n                                            height: \"80px\",\r\n                                            borderRadius: \"50%\",\r\n                                          }}\r\n                                        />\r\n                                      </div>\r\n                                    ) : (\r\n                                      \"\"\r\n                                    )}\r\n                                  </div>\r\n                                </li>\r\n                              );\r\n                            })}\r\n                          </ul>\r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  ))}\r\n\r\n\r\n                  {/* Cuộn xuống tới đây */}\r\n\r\n                  <div ref={bottomRef} />\r\n                </ul>\r\n              </div>\r\n            </SimpleBar>\r\n\r\n            <Modal backdrop=\"static\" isOpen={modal} centered toggle={toggle}>\r\n              <ModalHeader toggle={toggle}>Forward to...</ModalHeader>\r\n              <ModalBody>\r\n                <CardBody className=\"p-2\">\r\n                  <SimpleBar style={{ maxHeight: \"200px\" }}>\r\n                    <SelectContact handleCheck={() => {}} />\r\n                  </SimpleBar>\r\n                  <ModalFooter className=\"border-0\">\r\n                    <Button color=\"primary\">Forward</Button>\r\n                  </ModalFooter>\r\n                </CardBody>\r\n              </ModalBody>\r\n            </Modal>\r\n\r\n            <ChatInput onaddMessage={addMessage} />\r\n          </div>\r\n\r\n          <UserProfileSidebar\r\n            activeUser={props.recentChatList[props.active_user]}\r\n          />\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const { active_user } = state.Chat;\r\n  const { userSidebar } = state.Layout;\r\n  return { active_user, userSidebar };\r\n};\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, { openUserSidebar, setFullUser })(UserChat)\r\n);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}